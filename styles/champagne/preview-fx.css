:root {
  --champagne-fx-wave-opacity: 0.28;
  --champagne-fx-glass-alpha: 0.18;
  --champagne-fx-dust-opacity: 0.06;
  --champagne-fx-hud-bg: color-mix(in oklab, var(--smh-ink) 65%, transparent);
  --champagne-fx-hud-ink: color-mix(in oklab, var(--smh-ink) 90%, white 10%);
  --champagne-fx-gold-soft: color-mix(in oklab, var(--smh-gold) 28%, transparent);
  --champagne-fx-gold-deep: color-mix(in oklab, var(--smh-gold) 45%, transparent);
  --champagne-fx-wave-mask: linear-gradient(
    135deg,
    color-mix(in oklab, var(--smh-gold) 10%, transparent) 0%,
    transparent 55%,
    color-mix(in oklab, var(--smh-primary-teal) 14%, transparent) 100%
  );
}

.champagne-hero-shell {
  position: relative;
  z-index: 0;
}

.champagne-hero-shell__inner {
  position: relative;
  z-index: 1;
}

.champagne-hero-shell__inner[data-parallax-depth] {
  will-change: transform;
}

.champagne-fx {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  display: block;
}

.champagne-fx__layer {
  position: absolute;
  inset: -4%;
  mix-blend-mode: screen;
  pointer-events: none;
  transition: opacity 240ms ease-out;
}

.champagne-fx__waves {
  opacity: var(--champagne-fx-wave-opacity);
  background-image: var(--champagne-fx-wave-image, linear-gradient(
      145deg,
      color-mix(in oklab, var(--smh-primary-teal) 24%, transparent) 0%,
      transparent 65%,
      color-mix(in oklab, var(--smh-gold) 18%, transparent) 100%
    ));
  background-size: 180% 180%;
  background-position: 40% 50%;
  mask-image: var(--champagne-fx-wave-mask);
  mask-size: cover;
  animation: champagneWaveDrift 12s ease-in-out infinite alternate;
}

.champagne-fx__glass {
  mix-blend-mode: overlay;
  opacity: var(--champagne-fx-glass-alpha);
  background: color-mix(in oklab, var(--smh-ink) 2%, transparent);
  backdrop-filter: blur(2px);
}

.champagne-fx__dust {
  opacity: var(--champagne-fx-dust-opacity);
  mix-blend-mode: screen;
  background-image:
    radial-gradient(circle at 10% 35%, var(--champagne-fx-gold-soft) 0%, transparent 56%),
    radial-gradient(circle at 70% 18%, var(--champagne-fx-gold-deep) 0%, transparent 60%),
    radial-gradient(circle at 85% 70%, var(--champagne-fx-gold-soft) 0%, transparent 68%),
    radial-gradient(circle at 35% 82%, var(--champagne-fx-gold-deep) 0%, transparent 64%);
  background-repeat: no-repeat;
  background-size: 220px 220px, 260px 260px, 200px 200px, 240px 240px;
}

.champagne-fx__dust::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(circle at 22% 28%, color-mix(in oklab, var(--smh-gold) 22%, transparent) 0%, transparent 46%),
    radial-gradient(circle at 62% 64%, color-mix(in oklab, var(--smh-gold) 16%, transparent) 0%, transparent 52%);
  background-size: 180px 180px, 210px 210px;
  background-repeat: no-repeat;
  opacity: 0.55;
}

.champagne-fx__grain {
  mix-blend-mode: soft-light;
  opacity: var(--smh-grain-alpha, 0.04);
  background-image: var(--champagne-fx-grain-image, url('/brand/textures/film-grain-2560x1440.webp'));
  background-size: cover;
  filter: contrast(110%) saturate(105%);
}

@keyframes champagneWaveDrift {
  0% {
    transform: translate3d(0, 0, 0) scale(1.02);
  }
  100% {
    transform: translate3d(-4px, 6px, 0) scale(1.05);
  }
}

.fx-parallax {
  --parallax-1: 0px;
  --parallax-2: 0px;
  --parallax-3: 0px;
}

.fx-parallax [data-parallax-depth='1'] {
  transform: translate3d(0, clamp(-6px, var(--parallax-1, 0px), 6px), 0);
  transition: transform 200ms ease-out;
}

.fx-parallax [data-parallax-depth='2'] {
  transform: translate3d(0, clamp(-6px, var(--parallax-2, 0px), 6px), 0);
  transition: transform 240ms ease-out;
}

.fx-parallax [data-parallax-depth='3'] {
  transform: translate3d(0, clamp(-6px, var(--parallax-3, 0px), 6px), 0);
  transition: transform 280ms ease-out;
}

.champagne-fx__hud {
  position: absolute;
  top: 0.75rem;
  left: 0.75rem;
  padding: 0.35rem 0.55rem;
  border-radius: 999px;
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 0.04em;
  background: var(--champagne-fx-hud-bg);
  color: var(--champagne-fx-hud-ink);
  display: inline-flex;
  gap: 0.35rem;
  align-items: center;
  text-transform: uppercase;
  opacity: 0.6;
  pointer-events: none;
}

.champagne-fx__hud span {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

@media (prefers-reduced-motion: reduce) {
  .champagne-fx__waves,
  .champagne-fx__dust,
  .champagne-fx__dust::after {
    animation: none !important;
    opacity: 0 !important;
  }

  .fx-parallax [data-parallax-depth] {
    transform: none !important;
    transition-duration: 0ms !important;
  }
}

@media (max-width: 768px) {
  .champagne-fx__dust,
  .champagne-fx__dust::after {
    opacity: calc(var(--champagne-fx-dust-opacity) * 0.75);
    background-size: 160px 160px, 180px 180px, 150px 150px, 190px 190px;
  }
}
