:root{
  --champ-vignette-alpha: 0;
  --champ-grain-alpha: .02;
  --champ-particles-alpha: 0;
}

/* Base: 4-stop gradient (magenta -> cyan-lift -> teal) */
.champagne-surface-lux {
  --_grad: linear-gradient(
    var(--smh-grad-angle),
    var(--smh-grad-stop1) 0%,
    var(--smh-grad-stop2) 42%,
    var(--smh-grad-stop3) 100%
  );

  /* Gold shoulder as separate soft-light overlay (subtle, non-destructive) */
  --_gold-shoulder: radial-gradient(
    120% 120% at 70% 70%,
    color-mix(in oklab, var(--smh-gold-shoulder), transparent 82%) 0%,
    transparent 60%
  );

  /* Waves */
  --_wave-arcs: url("/brand/waves/wave-field.svg");
  --_wave-dots: url("/brand/waves/wave-dots.svg");

  background-image:
    var(--_grad),
    var(--_gold-shoulder),
    var(--_wave-arcs),
    var(--_wave-dots);

  background-size:
    var(--smh-bg-size),
    var(--smh-bg-size),
    cover,
    cover;

  background-position:
    var(--smh-bg-pos),
    var(--smh-bg-pos),
    center,
    center;

  background-repeat: no-repeat,no-repeat,no-repeat,no-repeat;
  position: relative;
  isolation: isolate;
}

/* Blend the overlays without shifting hue */
.champagne-surface-lux {
  background-blend-mode:
    normal,
    soft-light,
    soft-light,
    overlay;
}

/* Vignette + Grain (pseudos so theyâ€™re optional and token-driven) */
.champagne-surface-lux::before,
.champagne-surface-lux::after{
  content:"";
  position:absolute; inset:0; pointer-events:none; z-index:0;
}
.champagne-surface-lux::before{
  /* vignette */
  background: radial-gradient(120% 120% at 50% 50%, transparent 55%, rgba(0,0,0,var(--smh-vignette-alpha)) 100%);
  mix-blend-mode: multiply;
}
.champagne-surface-lux::after{
  /* ultra-fine grain; use existing noise texture */
  background-image: var(--smh-grain-img, url("/brand/textures/film-grain.png"));
  background-size: 512px 512px; opacity: var(--smh-grain-alpha);
  mix-blend-mode: soft-light;
}

/* Particles (optional class toggles) */
.champagne-surface-lux.particles::after{
  background-image:
    var(--smh-grain-img, url("/brand/textures/film-grain.png")),
    var(--smh-particles-img, url("/brand/particles/particles.webm"));
  background-size: 512px 512px, cover;
  mix-blend-mode: soft-light, screen;
  opacity: 1;
}

/* Parallax helpers */
.champagne-surface-lux--parallax {
  background-image:
    var(--_grad),
    var(--_gold-shoulder);
  background-size:
    var(--smh-bg-size),
    var(--smh-bg-size);
  background-position:
    var(--smh-bg-pos),
    var(--smh-bg-pos);
  background-repeat: no-repeat,no-repeat;
  background-blend-mode:
    normal,
    soft-light;
}

.champagne-surface-lux__wave {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  transform: translate3d(var(--parallax-x, 0), var(--parallax-y, 0), 0);
  transition: transform 450ms cubic-bezier(0.22, 1, 0.36, 1);
  will-change: transform;
}

.champagne-surface-lux__wave--arcs {
  background-image: var(--_wave-arcs);
  mix-blend-mode: soft-light;
}

.champagne-surface-lux__wave--dots {
  background-image: var(--_wave-dots);
  mix-blend-mode: overlay;
}

/* Optional warmth overlay that preserves the locked base gradient. */
.champagne-warm-lift {
  position: relative;
  isolation: isolate;
}

.champagne-warm-lift::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: calc(var(--smh-warm-lift, 0) * 0.6);
  background:
    radial-gradient(
      120% 120% at 18% 38%,
      color-mix(in oklab, var(--smh-warm-rose) 100%, var(--smh-warm-magenta) 0%)
        calc(var(--smh-warm-lift-magenta-alpha, 0.08) * 100%),
      transparent 50%
    ),
    radial-gradient(
      130% 130% at 60% 80%,
      color-mix(in oklab, var(--smh-warm-gold) 100%, transparent 0%)
        calc(var(--smh-warm-lift-gold-alpha, 0.03) * 100%),
      transparent 70%
    );
  mix-blend-mode: color-dodge;
}

@media (prefers-contrast: more){
  .champagne-warm-lift::before { opacity: 0; }
}

.champagne-surface-lux .champagne-glass{
  position: relative;
  z-index: var(--z-glass, 20);
}

/* Optional: gentle saturation lift using the SAME token gradient */
.saturation-lift{
  position: relative;
  isolation: isolate;
}

.saturation-lift::after{
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: saturation;
  opacity: .04;
  background-image: var(--smh-gradient);
  background-size: var(--smh-bg-size);
  background-position: var(--smh-bg-pos);
  z-index: 0;
}

.footer-luxe{
  background: var(--smh-ink);
  color: var(--smh-text);
  border-top: 1.5px solid color-mix(in oklab, var(--smh-accent-gold) 68%, transparent);
  box-shadow: 0 -1px 0 rgba(255,255,255,.02) inset;
}

@media (prefers-reduced-motion: reduce){
  .champagne-surface-lux{ background-attachment: initial; }
  .champagne-surface-lux__wave{ transition: none; transform: none !important; }
}
